<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <title>Unit 3 | PS4 | APIs</title>
  </head>
  <body>
    <div id="description">
    <H1>Unit 3 PS4 API: Name Origin Guesser</H1>
    <br><br>
        <form>
            <p>Enter a name to view the the probability of nationality!</p>
            <label id="name" name="name">Name:</label>
                <input type="text" id="name">
            <input type="button" id="call" name="call" value="Go">
        </form>
        <div id="apiReturn">

        </div>
        
        <h2>API Description</h2>
        <p>
            This is an API that provides the probablity an individual is from a specific country based on their name passed as a parameter. 
        </p>

        <h2>Website URL:</h2> <br>
            <p>Website URL: https://api.nationalize.io
            <br>
        </p>

        <h2>Options & Parameters</h2>
            <p>
                name="first" (e.g., https://api.nationalize.io?name=maria)
            </p>

        <h2>API Applications</h2>
            <i>Disclaimer: This API provides probabilities based on emprical data and recommendations in any real-world application would be suggestive at best.</i> 
            <br><br>
            This API could potentially be used in a forensics or law enforcement database for determining information about someone's background if their name is known. 
            It could perhaps also be used by an HR department in an HR Information System to gauge diversity or national origin if it is not explicitly collected. 
        </div>

    <script language="javascript">
        function getNats() {
            var ajaxRequest = new XMLHttpRequest();
            ajaxRequest.onreadystatechange = function() {
                if (ajaxRequest.readyState == 1) {
                    console.log("Established server connection.");
                } else if (ajaxRequest.readyState == 2) {
                    console.log("Request received by server.");
                } else if (ajaxRequest.readyState == 3) {
                    console.log("Processing request...");
                } else if (ajaxRequest.readyState == 4) {
                    console.log("Done loading.");
                } else {
                    console.log("Error retrieving data.");
                }
            }
            // let name = $('#name').val();
            // console.log(name + " entered");
            ajaxRequest.open('GET',"https://api.nationalize.io?name=");
            ajaxRequest.send();
        }

        window.onload=function() {
            btnObj = document.getElementById('call');
            btnObj.onclick = () => {
                //document.getElementById('output').innerHTML = getNats();
                let name = $('#name').val();
                document.getElementById("apiReturn").innerHTML = name;
            }
        }


        // $("button:#call").click(function () {
        //     $("name").html($('input:textbox').val());
        // });
    </script>
  </body>
</html>

