<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Unit 2 | PS3 | JSON 3</title>
        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  </head>

  <body>
    <script language="javascript">
        //read in JSON data
        document.write("test");
       $(document).ready(function () {
        //JSON data retrieved/stored in 'data'
        $.getJSON("https://jmkeusch.github.io/cs120/unit2_PS3/songs.json", function (data) {
        let range = new Set ();
            //Get Genre options
            $.each(data, function (key, value) {
                var genres = value.genre;
                for (let i = 0; i < genres.length; i++) {
                    var gen = JSON.stringify(value.genre[i]);
                    range.add(gen);
                    //document.write(gen);
                }
            });
        });
       });
       //Populate genre options on form
       range.forEach (function(value) {
        listItem += "<option value='" + value + "'>" + value + "</option>";
        $("#dropdown").html(listItem);
       })
       
    </script>

    <form name="form1">
        <label for="dropdown">Genre:</label>
            <select id="dropdown" onchange="selectedIndex()">
            </select>
    </form>
  </body>
</html>

